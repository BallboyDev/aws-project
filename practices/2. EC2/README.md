# EC2 
## AWS 컴퓨팅 서비스 
- EC2
    - 클라우드 환경에서 서버 자원을 인스턴스라는 가상 머신형태로 제공하는 가장 기본적인 AWS 컴퓨팅 서비스
- ECS / EKS
    - EC2 기반 관리형 클러스터에서 실행되는 컨테이너 형태의 자원에 대해 배포, 스케줄링, 스케일링 등을 관리하는 서비스
- Lambda
    - 서버시르 컴퓨팅 서비스로, 서버시르라는 말 그대로 별도의 서버 설정이 없는 환경을 제공하여 코드만 실행해 주는 서비스
- Lightsail
    - 독립적인 환경을 제공하며, 최소한의 설정만으로 손쉽게 사용 가능한 컴퓨팅 서비스

## EC2
- Amazon EC2는 인스턴스라는 가상 컴퓨팅 환경을 기반으로 하며, AMI(Amazon Machine Image)를 이용하여 인스턴스에 필요한 소프트웨어 정보를 정의한다. EC2 인스턴스는 사용자가 요구하는 CPU, 메모리, 디스크, 운영체제, 소프트웨어 등을 제공하여 워크로드에 맞는 최적화된 가상의 서버를 생성하고 관리할 수 있다.

### 인스턴스
- EC2 인스턴스는 가상의 컴퓨팅 환경으로 CPU, 메모리, 스토리지, 네트워킹 용량을 결정하는 다양한 인스턴스 유형을 제공한다.
- 인스턴스는 수백개의 다양한 유형을 제공하며 사용 목적과 비즈니스 환경에 맞게 선택할 수 있다.

- 인스턴스 상태
    - `running (실행 중)`
    - `stopped (중지 됨)`
    - `terminated (종료 됨)`
    - `pending (대기 중)`
    - `stopping (중지 중)`
    - `rebooting (재부팅)`
    - `shutting-down (종료 중)`

### AMI (Amazon Machine Image)
- AMI는 인스턴스를 시작할 때 필요한 정보를 제공하는 것으로 운영체제와 소프트웨어를 적절히 구성한 상태로 제공되는 템플릿이다. 인스턴스를 생성할 경우 AMI를 지정해야 하며, 하나의 AMI로 동일한 구성의 여러 인스턴스를 손쉽게 생성할 수 있다.

### 스토리지
#### 인스턴스 스토어
- 인스턴스에 바로 붙어 있는 저장소로, Amazon EC2 인스턴스를 생성하면 기본적으로 생성되는 스토리지이다. 일부 인스턴스 유형은 인스턴스 스토어를 지원하지 않기도 한다.
- 매우 빠른 I/O를 보장하지만 인스턴스를 중지하거나 종료하면 스토어에 저장된 데이터가 손실되는 임시적인 데이터 저장소 이다.

#### Amazon EBS
- 인스턴트와 네트워킹을 통해 연결되는 구조로, 영구 보전이 가능한 스토리지이다.
- 스냅샷을 생성하여 백업 및 복구가 가능하고, 다른 인스턴스에 연결할 수도 있다.


### 네트워킹
#### VPC
- AWS 퍼블릭 클라우드 안에서 논리적으로 격기된 가상의 클라우드 네트워크이다. 생성된 EC2 인스턴스는 별도로 구성된 하나의 Amazon VPC 안에 생성되어 네트워킹 된다.

#### ENI
- 논리적 네트워크 인터페이스가 VPC 내 생성되며, ENI를 EC2 인스턴스에 연결해서 네트워킹을 수행한다.

#### IP 주소


### EC2 보안
#### 보안 그룹
- EC2 인스턴스의 송수긴 트래픽을 제어하는 가상의 방화벽이다. EC2 인스턴스 기준으로 수신 트래픽에 대한 인바운드 규칙과 송신 트래픽에 대한 아웃바운드 규칙으로 되어 있으며, 대상 트래픽에 대한 허용과 거부를 결정한다.

#### 키 페어
- EC2 인스턴트에 연결할 때 자격을 증명하는 보안 키이다. 키 페어는 퍼블릭 키와 프라이빗 키로 구성되며, 퍼블릭 키는 EC2 인스턴스에 저장되고, 프라이빗 키는 사용자 컴퓨터에 별도로 저장된다.


### 모니터링
- 수동 모니터링은 관리자가 직접 관리 콘솔을 이용하여 모니터링을 수행하는 것으로 EC2 대시보드에서 간단한 통계 정보를 확인하거나 Amazon CloudWatch라는 모니터링 전용 서비스를 이용하여 상세한 통계 정보를 모니터링을 할 수 있다.

- 자동 모니터링은 대상 자원의 지표에 대해 임곗값을 정하고, 임곗값을 초과하면 경보를 내리는 형태의 동적인 모니터링 방법을 의미한다. AWS에서는 다양한 모니터링 도구를 제공하며, 그중 CloudWatch의 경보 시스템을 이용하여 동적 단일 지표를 관찰하고 지정된 임곗값을 기준으로 경보 작업을 수행할 수 있다.
    - 이런 경보 작업은 Amazon SNS라는 알림 시스템으로 다양한 방법으로 호출하여 인스턴스 자원을 동적으로 확장할 수 있다.


## EC2 인스턴스 구축

~~~
  ┏━━ AMI ━━━━━━━(1)━━━━━━━━━━━━━━┓
  ┃                               ┃     
사용자 ━━┳━━ 보안 그룹 ━(2)━ 퍼블릭IP ━ EC2 인스턴스 ━ EBS
  ┃   프라이빗 키                    ┃
  ┃                               ┃
  ┗━━ SNS ━━━━━━━━━(3)━━━━━━━━━CloudWatch

1. EC2 인스턴스 배포
2. SSH 접속 및 웹 서비스 생성
3. 이슈 트래픽 알림
~~~